{% extends "fragment-base.html" %}

{% block body %}
<div class="uk-container uk-margin">
    <!-- Header Section -->
    <div id="header" hx-get="/job-results/{{ result.id }}/header"
        hx-trigger="load{% if result.finished_at.is_none() %}, every 3s{% endif %}" hx-swap="innerHTML">
    </div>

    <!-- Timeline Section -->
    <div id="steps" hx-get="/job-results/{{ result.id }}/steps"
        hx-trigger="load{% if result.finished_at.is_none() %}, every 3s{% endif %}" hx-swap="innerHTML">
    </div>

    <!-- Logs Section -->
    <div class="uk-card uk-card-default uk-card-body uk-margin">
        <h4 class="uk-card-title">Logs</h4>
        <div class="uk-height-medium uk-overflow-auto uk-background-muted uk-padding-small">
            <div id="logs" hx-get="/job-results/{{ result.id }}/logs"
                hx-trigger="load{% if result.finished_at.is_none() %}, every 3s{% endif %}" hx-swap="innerHTML">
            </div>
        </div>
    </div>
</div>

<style>
    /* Custom Timeline Styles */
    .uk-timeline {
        padding: 0;
        list-style: none;
    }

    .uk-timeline-item {
        position: relative;
        padding-left: 40px;
        margin-bottom: 20px;
    }

    .uk-timeline-icon {
        position: absolute;
        left: 0;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .uk-timeline-content {
        border-left: 1px solid #e5e5e5;
        padding-left: 20px;
        padding-bottom: 20px;
    }
</style>
{% endblock %}