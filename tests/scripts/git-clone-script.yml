id: git-clone-script
name: Git Clone Script
parameters:
  - name: git_clone_url
    description: Git clone URL
    required: true
    type: string
  - name: git_credential_id
    description: Git credential ID
    required: false
    type: string
steps:
  - name: Clone
    value:
      type: GitClone
      url: $parameters.git_clone_url
      credential_id: $parameters.git_credential_id
  - name: List files
    value:
      type: Bash
      code: |
        echo $steps.Clone.GitClone.directory
        dir
